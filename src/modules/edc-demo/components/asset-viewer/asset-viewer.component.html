<div *ngIf="filteredAssets$ | async as assets" class="assets-wrapper">
  <div class="search-bar-container">
    <div class="search-left">
      <input
        class="search-input"
        type="text"
        placeholder="Search Assets"
        [(ngModel)]="searchText"
        (input)="onSearch()"
      />

      <button (click)="onSearch()" class="search-button">
        <span class="material-icons">search</span>
      </button>
    </div>

    <button (click)="onCreate()" color="accent" mat-raised-button class="create-button">
      <mat-icon>add</mat-icon>
      Create Asset
    </button>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start">
    <mat-card *ngFor="let asset of assets" class="asset-card">
      <mat-card-header>
        <mat-icon mat-card-avatar>description</mat-icon>
        <mat-card-title>{{asset.properties.optionalValue('edc','name')}}</mat-card-title>
        <mat-card-subtitle>{{asset.id}}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        {{asset.properties.optionalValue('edc','description')}}
      </mat-card-content>

      <mat-card-actions class="card-actions">
        <button (click)="onDelete(asset)" [disabled]="isBusy()" color="warn" mat-stroked-button>
          <mat-icon>delete</mat-icon> Delete
        </button>
      </mat-card-actions>

      <mat-card-footer>
        <mat-progress-bar *ngIf="isBusy()" color="accent" mode="indeterminate"></mat-progress-bar>
      </mat-card-footer>
    </mat-card>
  </div>
</div>
