<!--
    Copyright (c) 2025 Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V.

    This program and the accompanying materials are made available under the
    terms of the Apache License, Version 2.0 which is available at
    https://www.apache.org/licenses/LICENSE-2.0

    SPDX-License-Identifier: Apache-2.0

    Contributors:
         Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. - initial API and implementation
-->

@if (catalogDataset) {
  <div class="card flex-grow bg-base-300">
    <div class="card-body">
      <div class="card-title mb-3">
        <span class="material-symbols-rounded text-3xl">deployed_code_update</span>
        <span class="truncate text-wrap">{{ name }}</span>
      </div>
      @if (participantId || version || contentType) {
        <div class="ml-3 mb-3 grid grid-cols-[minmax(0,auto)_minmax(0,min-content)] gap-4">
          @if (participantId) {
            <div class="flex items-center">
              <span class="material-symbols-rounded mr-1">source_environment</span>
              <b><i>Provider</i></b>
            </div>
          }
          @if (participantId) {
            <span class="truncate">{{ participantId }}</span>
          }
          @if (version) {
            <div class="flex items-center">
              <span class="material-symbols-rounded mr-1">history</span>
              <b><i>Version</i></b>
            </div>
          }
          @if (version) {
            <span class="truncate">{{ version }}</span>
          }
          @if (contentType) {
            <div class="flex items-center">
              <span class="material-symbols-rounded mr-1">unknown_document</span>
              <b><i>Content Type</i></b>
            </div>
          }
          @if (contentType) {
            <span class="truncate">{{ contentType }}</span>
          }
        </div>
      }
      @if (showButtons) {
        <div class="card-actions justify-between mt-auto">
          <button class="btn btn-soft btn-primary btn-sm no-animation" (click)="negotiateEvent.emit(catalogDataset)">
            <i class="p-0 material-symbols-rounded">handshake</i> Negotiate
          </button>
          <div class="tooltip no-animation" data-tip="Details">
            <button
              class="btn btn-soft btn-primary btn-circle btn-sm no-animation"
              (click)="detailsEvent.emit(catalogDataset)"
            >
              <i class="material-symbols-rounded">info</i>
            </button>
          </div>
        </div>
      }
    </div>
  </div>
}
