<!--
    Copyright (c) 2025 Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V.

    This program and the accompanying materials are made available under the
    terms of the Apache License, Version 2.0 which is available at
    https://www.apache.org/licenses/LICENSE-2.0

    SPDX-License-Identifier: Apache-2.0

    Contributors:
         Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. - initial API and implementation
-->

<div class="card grow bg-base-300">
  <div class="card-body">
    <div class="card-title mb-3">
      <span class="material-symbols-rounded text-3xl">handshake</span>
      <span class="truncate text-wrap">{{ agreement.id }}</span>
    </div>
    <div class="ml-3 mb-3 grid grid-cols-[minmax(0,auto)_minmax(0,min-content)] gap-4">
      <div class="flex items-center">
        <span class="material-symbols-rounded mr-1">deployed_code_update</span>
        <b><i>Asset</i></b>
      </div>
      <span class="truncate">{{ agreement.assetId }}</span>
      <div class="flex items-center">
        <span class="material-symbols-rounded mr-1">person</span>
        <b><i>Provider</i></b>
      </div>
      <span class="truncate">{{ agreement.providerId }}</span>
      <div class="flex items-center">
        <span class="material-symbols-rounded mr-1">signature</span>
        <b><i>Signing Date</i></b>
      </div>
      <span class="truncate">{{ agreement.contractSigningDate * 1000 | date: 'dd.MM.yyy - HH:mm:ss' }}</span>
    </div>
    @if (showButtons) {
      <div class="card-actions mt-auto" [ngClass]="disableTransfer ? 'justify-end' : 'justify-between'">
        @if (!disableTransfer) {
          <div class="tooltip" data-tip="Transfer the asset of this contract">
            <button class="btn btn-soft btn-primary btn-sm no-animation" (click)="transferEvent.emit(agreement)">
              <i class="material-symbols-rounded">send</i>
              Transfer
            </button>
          </div>
        }
        <div class="tooltip" data-tip="Details">
          <button
            class="btn btn-soft btn-primary btn-circle btn-sm no-animation"
            (click)="detailsEvent.emit(agreement)"
          >
            <i class="material-symbols-rounded">info</i>
          </button>
        </div>
      </div>
    }
  </div>
</div>
